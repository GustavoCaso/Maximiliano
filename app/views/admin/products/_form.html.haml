= form_for [:admin, @product] do |f|
  - if @product.errors.any?
    #error_explanation
      %h2= "#{pluralize(@product.errors.count, "error")} prohibited this product from being saved:"
      %ul
        - @product.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :name
    = f.text_field :name
  .field
    = f.label :description
    = f.text_area :description
  .field
    = f.label :category
    = f.select :category, Product::CATEGORY.map{|x| [x, x.downcase]}, prompt: "Select a category"
  .field
    = f.label :sub_category
    = f.select :sub_category, Product::SUBCATEGORY, prompt: "Select a subcategory"

    = f.fields_for :sizes do |ff|
      .field
        = ff.label :size
        = ff.text_field :size
      .field
        = ff.label :price
        = ff.text_field :price

  .field
    = f.label :picture
    = f.file_field :picture

  .actions
    = f.submit 'Save'
