= form_for [:admin, @product] do |f|
  - if @product.errors.any?
    #error_explanation
      %h2
        - if @product.errors.count == 1
          = t "errors.templeate.header.one", model: @product.class
        -else
          = t "errors.template.header.other", model: Product.model_name.human, count: @product.errors.count

      %ul
        - @product.errors.full_messages.each do |msg|
          %li= msg
  .product_info
    .field
      = f.label :name, "Nombre"
      = f.text_field :name
    .field
      = f.label :description, "Descripci√≥n"
      = f.text_area :description
    .field
      = f.label :category, "Categoria"
      = f.select :category, Product::CATEGORIES.keys, prompt: "Select a category"
    .field
      = f.label :sub_category, "Sub-categoria"
      = f.select :sub_category, Product::CATEGORIES, prompt: "Select sub category"
    .field
      = f.label :outlet
      = f.check_box :outlet
    .field
      = f.label :picture, "Foto"
      = f.file_field :picture
  .sizes_field
    = f.fields_for :sizes do |ff|
      .size_price
        .field
          = ff.hidden_field :size
          %h2= ff.object.size
          %p.final_price 0
        .field.price_field
          = ff.label :price, "Precio"
          = ff.text_field :price
        .field
          = ff.label :stock
          = ff.text_field :stock
        .field.discount_field
          = ff.label :discount, "Descuento(%)"
          = ff.text_field :discount
  .info
    %p Recuerda que productos sin stock no aparecen en la tienda

  .actions
    = f.submit 'Save', class: "myButton"




